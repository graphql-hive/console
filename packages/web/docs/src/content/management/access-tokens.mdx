import NextImage from 'next/image'
import { Callout, Steps } from '@theguild/components'

# Access Tokens

Access Tokens in GraphQL Hive are secure credentials used to authenticate API requests and automate
actions without using personal login details.

With Access Tokens, you can perform tasks such as:

- Publish schemas etc. with the Hive CLI
- Report usage data (SDK or HTTP)
- (Soon) Access the public Hive Console GraphQL API for managing resources and export data

Access Tokens in GraphQL Hive support granular permission scopes, allowing you to define exactly
what actions a token is allowed to perform and on which resources (project, target, service or app
deployment). This helps enforce the principle of least privilege, ensuring tokens only have the
access they need - and nothing more.

For example, a CI pipeline that publishes schemas only needs the "Publish Service" scope. There’s no
need to grant more permissions.

<Callout type="warning">
  **Important**: Treat access tokens like passwords. Keep them secret and revoke them immediately if
  compromised. Monitor token usage regularly and revoke unused tokens to maintain security.
</Callout>

## Create an Access Token

<Steps>

### Ensure sufficient permissions

To create an Access Token in GraphQL Hive, you must have the `Manage Access Token` permission at the
organization level. Tokens are created at the **organization level** and can be managed (created or
deleted) by any user with sufficient permissions.

### Navigate to Access Token Settings

import accessTokensTabImage from '../../../public/docs/pages/management/access-tokens/access-tokens-tab-settings.png'

<NextImage
  alt="Organization Access Tokens Section"
  src={accessTokensTabImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

Go to the `Settings` tab of your organization and open the `Access Tokens` section.

import accessTokenCreateButtonImage from '../../../public/docs/pages/management/access-tokens/access-token-create-button.png'

<NextImage
  alt="Create access token button"
  src={accessTokenCreateButtonImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

Click `Create new access token`.

### Enter General Information

import accessTokenEnterGeneralImage from '../../../public/docs/pages/management/access-tokens/access-token-enter-general.png'

<NextImage
  alt="Enter general access token information"
  src={accessTokenEnterGeneralImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

Provide a clear **title** and **description** to help your team understand the token’s purpose.

Confirm your selection by clicking `Next`.

### Select Permission Scopes

import accessTokenPermissionsImage from '../../../public/docs/pages/management/access-tokens/access-token-permissions.png'

<NextImage
  alt="Select permission scopes for the access token"
  src={accessTokenPermissionsImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

Choose the permissions the token should have.

<Callout>
  **Tip**: Follow the principle of least privilege by only selecting the scopes necessary for the
  token's purpose.
</Callout>

Confirm your selection by clicking `Next`.

### Select Resources

Decide if the token should have access to:

- **All resources** in the organization, or
- Only **specific projects/targets/services/apps**.

import accessTokenResourcesImage from '../../../public/docs/pages/management/access-tokens/access-token-resources.png'

<NextImage
  alt="Select resources for the access token"
  src={accessTokenResourcesImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

Confirm your selection by clicking `Next`.

### Review and Create

Carefully review all the details—title, description, scopes, and resource assignments.

import accessTokenConfirmImage from '../../../public/docs/pages/management/access-tokens/access-token-confirm.png'

<NextImage
  alt="Confirm permissions and scopes on the access token"
  src={accessTokenConfirmImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

When you're ready, click `Create Access Token`.

### Save your Token

After creation, your **access token key** will be displayed once.

- Copy the token and store it securely (for example, in a secrets manager).
- You won't be able to view it again.
- Use this token to authenticate with Hive's CLI or API.
- **Never share your token** and immediately revoke it if it becomes compromised.

import accessTokenCreateSuccessImage from '../../../public/docs/pages/management/access-tokens/access-token-create-success.png'

<NextImage
  alt="Confirm permissions and scopes on the access token"
  src={accessTokenCreateSuccessImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

</Steps>

## Deleting Access Tokens

Within the Access Token overview, click the three dots icon for opening the context menu.

import accessTokenMoreMenuImage from '../../../public/docs/pages/management/access-tokens/access-token-more-menu.png'

<NextImage
  alt="Open the actions for the access token by pressing the three dot icon on the end of the row."
  src={accessTokenMoreMenuImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

Within that menu, click the `Delete` menu item.

import accessTokenDeleteActionImage from '../../../public/docs/pages/management/access-tokens/access-token-delete-action.png'

<NextImage
  alt="Delete the access token by selection the delete action in the menu."
  src={accessTokenDeleteActionImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

Confirm the deletion within the dialog.

import accessTokenDeleteConfirmImage from '../../../public/docs/pages/management/access-tokens/access-token-delete-confirm.png'

<NextImage
  alt="Confirm the deletion within the dialogue."
  src={accessTokenDeleteConfirmImage}
  className="mt-8 rounded-lg drop-shadow-md"
/>

## Updating Access Tokens

Updating access tokens is currently not possible. Please instead
[create a new access token](/docs/management/access-tokens#create-an-access-token) with updated
permissions, replace the usages of the old access token and then
[delete the old access token](/docs/management/access-tokens#deleting-access-tokens).
